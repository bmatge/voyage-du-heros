<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Le Voyage du H√©ros ‚Äî Timeline du Monomythe</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Crimson+Pro:ital,wght@0,400;0,500;1,400&display=swap" rel="stylesheet">
    <style>
        :root, [data-theme="default"] {
            --gold: #e8b86d;
            --gold-light: #f5d599;
            --gold-dark: #c9923e;
            --ink: #0f0d0a;
            --ink-light: #1a1714;
            --ink-medium: #252220;
            --parchment: #faf6f0;
            --parchment-dark: #e8e0d4;
            --text-primary: #f5f2ed;
            --text-secondary: #c9c4bc;
            --phase-departure: #5a8fd4;
            --phase-departure-light: #7ba8e6;
            --phase-initiation: #c45a7a;
            --phase-initiation-light: #d87a96;
            --phase-return: #6ba35a;
            --phase-return-light: #8bc47a;
            --theme-accent: var(--gold);
        }

        /* Odyss√©e - M√©diterran√©e antique */
        [data-theme="odyssey"] {
            --gold: #4a9ec7;
            --gold-light: #7bbde0;
            --gold-dark: #2d7ba3;
            --ink: #0a1520;
            --ink-light: #132535;
            --ink-medium: #1c3548;
            --text-primary: #e8f4f8;
            --text-secondary: #a8c8d8;
            --phase-departure: #4a9ec7;
            --phase-departure-light: #6db8d9;
            --phase-initiation: #c4785a;
            --phase-initiation-light: #d89676;
            --phase-return: #5a8b6b;
            --phase-return-light: #7aab8b;
            --theme-accent: #4a9ec7;
        }

        /* Star Wars - Espace galactique */
        [data-theme="starwars"] {
            --gold: #ffe81f;
            --gold-light: #fff176;
            --gold-dark: #c9b800;
            --ink: #000000;
            --ink-light: #0d0d0d;
            --ink-medium: #1a1a1a;
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --phase-departure: #4a90d9;
            --phase-departure-light: #6aa8e9;
            --phase-initiation: #d93636;
            --phase-initiation-light: #e95555;
            --phase-return: #36d936;
            --phase-return-light: #55e955;
            --theme-accent: #ffe81f;
        }

        /* Seigneur des Anneaux - Terre du Milieu */
        [data-theme="lotr"] {
            --gold: #8b7355;
            --gold-light: #a89070;
            --gold-dark: #6b5540;
            --ink: #1a1510;
            --ink-light: #2a2318;
            --ink-medium: #3a3020;
            --text-primary: #f0e8d8;
            --text-secondary: #c0b8a0;
            --phase-departure: #5a7a5a;
            --phase-departure-light: #7a9a7a;
            --phase-initiation: #8b5a5a;
            --phase-initiation-light: #ab7a7a;
            --phase-return: #7a8b5a;
            --phase-return-light: #9aab7a;
            --theme-accent: #8b7355;
        }

        /* Matrix - Cyberpunk */
        [data-theme="matrix"] {
            --gold: #00ff41;
            --gold-light: #50ff80;
            --gold-dark: #00c932;
            --ink: #000000;
            --ink-light: #001a00;
            --ink-medium: #002200;
            --text-primary: #00ff41;
            --text-secondary: #008f24;
            --phase-departure: #00ff41;
            --phase-departure-light: #50ff80;
            --phase-initiation: #ff0041;
            --phase-initiation-light: #ff5080;
            --phase-return: #00c8ff;
            --phase-return-light: #50d8ff;
            --theme-accent: #00ff41;
        }

        /* Zelda - Hyrule */
        [data-theme="zelda"] {
            --gold: #7cba3d;
            --gold-light: #9ed45a;
            --gold-dark: #5c9a20;
            --ink: #1a2010;
            --ink-light: #283018;
            --ink-medium: #384020;
            --text-primary: #f0f8e8;
            --text-secondary: #b8d0a0;
            --phase-departure: #5aa0d4;
            --phase-departure-light: #7ab8e4;
            --phase-initiation: #d45a7a;
            --phase-initiation-light: #e47a9a;
            --phase-return: #7cba3d;
            --phase-return-light: #9cd45d;
            --theme-accent: #7cba3d;
        }

        /* Harry Potter - Poudlard */
        [data-theme="harrypotter"] {
            --gold: #d4a04a;
            --gold-light: #e8c070;
            --gold-dark: #a07830;
            --ink: #1a1015;
            --ink-light: #2a1820;
            --ink-medium: #3a2028;
            --text-primary: #f8f0e8;
            --text-secondary: #c8b8a8;
            --phase-departure: #5a6a8b;
            --phase-departure-light: #7a8aab;
            --phase-initiation: #8b3545;
            --phase-initiation-light: #ab5565;
            --phase-return: #6a8b5a;
            --phase-return-light: #8aab7a;
            --theme-accent: #d4a04a;
        }

        /* Le Roi Lion - Savane */
        [data-theme="lionking"] {
            --gold: #e67e22;
            --gold-light: #f0a050;
            --gold-dark: #c06010;
            --ink: #1a1008;
            --ink-light: #2a1810;
            --ink-medium: #3a2818;
            --text-primary: #fff8e8;
            --text-secondary: #d8c0a0;
            --phase-departure: #e67e22;
            --phase-departure-light: #f09840;
            --phase-initiation: #c0392b;
            --phase-initiation-light: #e05545;
            --phase-return: #8b6914;
            --phase-return-light: #ab8934;
            --theme-accent: #e67e22;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Crimson Pro', Georgia, serif;
            background: var(--ink);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Subtle noise texture */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
            opacity: 0.15;
            pointer-events: none;
            z-index: -1;
        }

        /* Header */
        header {
            text-align: center;
            padding: 2rem 2rem 1rem;
            background: linear-gradient(180deg, rgba(232, 184, 109, 0.1), transparent);
        }

        h1 {
            font-family: 'Cinzel', serif;
            font-size: clamp(1.6rem, 4vw, 2.4rem);
            font-weight: 600;
            color: var(--gold);
            letter-spacing: 0.12em;
            text-transform: uppercase;
            margin-bottom: 0.3rem;
            text-shadow: 0 2px 20px rgba(232, 184, 109, 0.3);
        }

        .subtitle {
            font-size: 1.1rem;
            font-style: italic;
            color: var(--text-secondary);
        }

        /* Epic selector */
        .epic-selector {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            flex-wrap: wrap;
            padding: 1.2rem 1rem 0;
        }

        .epic-btn {
            font-family: 'Cinzel', serif;
            font-size: 0.7rem;
            padding: 0.5rem 0.9rem;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(232, 184, 109, 0.3);
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.4rem;
            border-radius: 4px;
        }

        .epic-btn:hover {
            border-color: var(--gold);
            color: var(--gold);
            background: rgba(232, 184, 109, 0.1);
        }

        .epic-btn.active {
            background: var(--gold);
            color: var(--ink);
            border-color: var(--gold);
            font-weight: 600;
        }

        .epic-btn .emoji {
            font-size: 1.1rem;
            font-family: system-ui;
        }

        /* Intro section */
        .intro-section {
            text-align: center;
            padding: 1.5rem 2rem 1rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .intro-text {
            font-size: 1rem;
            line-height: 1.8;
            color: var(--text-secondary);
        }

        /* Legend */
        .legend {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            padding: 1rem;
            font-size: 0.8rem;
            font-family: 'Cinzel', serif;
            letter-spacing: 0.05em;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
        }

        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .legend-dot.departure { background: var(--phase-departure); }
        .legend-dot.initiation { background: var(--phase-initiation); }
        .legend-dot.return { background: var(--phase-return); }

        /* Timeline container - HORIZONTAL */
        .timeline-wrapper {
            position: relative;
            padding: 1rem 0 2rem;
        }

        .timeline-container {
            display: flex;
            overflow-x: auto;
            scroll-behavior: smooth;
            padding: 2rem 3rem 3rem;
            gap: 0;
            scrollbar-width: thin;
            scrollbar-color: var(--gold-dark) var(--ink-medium);
        }

        .timeline-container::-webkit-scrollbar {
            height: 8px;
        }

        .timeline-container::-webkit-scrollbar-track {
            background: var(--ink-medium);
            border-radius: 4px;
        }

        .timeline-container::-webkit-scrollbar-thumb {
            background: var(--gold-dark);
            border-radius: 4px;
        }

        .timeline-container::-webkit-scrollbar-thumb:hover {
            background: var(--gold);
        }

        /* Horizontal line */
        .timeline-line {
            position: absolute;
            left: 3rem;
            right: 3rem;
            top: 50%;
            height: 3px;
            background: linear-gradient(
                90deg,
                var(--phase-departure) 0%,
                var(--phase-departure) 33%,
                var(--phase-initiation) 38%,
                var(--phase-initiation) 66%,
                var(--phase-return) 71%,
                var(--phase-return) 100%
            );
            transform: translateY(-50%);
            z-index: 0;
            pointer-events: none;
        }

        /* Phase markers */
        .phase-marker {
            flex-shrink: 0;
            width: 140px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            z-index: 2;
            padding: 0 1rem;
        }

        .phase-marker::before {
            content: '';
            width: 70px;
            height: 70px;
            border-radius: 50%;
            border: 3px solid;
            background: var(--ink);
            margin-bottom: 1rem;
        }

        .phase-marker.departure::before { border-color: var(--phase-departure); }
        .phase-marker.initiation::before { border-color: var(--phase-initiation); }
        .phase-marker.return::before { border-color: var(--phase-return); }

        .phase-marker .phase-icon {
            position: absolute;
            top: 18px;
            font-size: 2rem;
            z-index: 3;
        }

        .phase-marker .phase-title {
            font-family: 'Cinzel', serif;
            font-size: 0.9rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            margin-bottom: 0.3rem;
        }

        .phase-marker.departure .phase-title { color: var(--phase-departure-light); }
        .phase-marker.initiation .phase-title { color: var(--phase-initiation-light); }
        .phase-marker.return .phase-title { color: var(--phase-return-light); }

        .phase-marker .phase-subtitle {
            font-style: italic;
            color: var(--text-secondary);
            font-size: 0.8rem;
            max-width: 120px;
        }

        /* Timeline items */
        .timeline-item {
            flex-shrink: 0;
            width: 200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 1;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .timeline-item:hover,
        .timeline-item:focus {
            transform: translateY(-5px);
            outline: none;
        }

        .timeline-item:focus .content {
            border-color: var(--gold);
            box-shadow: 0 0 0 2px var(--gold), 0 10px 30px rgba(0, 0, 0, 0.4);
        }

        .timeline-item:hover .timeline-node,
        .timeline-item:focus .timeline-node {
            transform: scale(1.3);
            box-shadow: 0 0 20px currentColor;
        }

        /* Node on timeline */
        .timeline-node {
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: var(--ink);
            border: 3px solid;
            z-index: 2;
            transition: all 0.3s ease;
            margin-bottom: 1rem;
        }

        .timeline-item.departure .timeline-node {
            border-color: var(--phase-departure);
            color: var(--phase-departure);
        }
        .timeline-item.initiation .timeline-node {
            border-color: var(--phase-initiation);
            color: var(--phase-initiation);
        }
        .timeline-item.return .timeline-node {
            border-color: var(--phase-return);
            color: var(--phase-return);
        }

        .timeline-item.active .timeline-node {
            background: var(--gold);
            border-color: var(--gold-light);
            transform: scale(1.3);
            box-shadow: 0 0 25px rgba(232, 184, 109, 0.6);
        }

        /* Step content card */
        .content {
            background: linear-gradient(145deg, var(--ink-medium), var(--ink-light));
            border: 1px solid rgba(232, 184, 109, 0.2);
            border-radius: 8px;
            padding: 1.2rem;
            width: 180px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .timeline-item:hover .content {
            border-color: rgba(232, 184, 109, 0.5);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        }

        .timeline-item.active .content {
            border-color: var(--gold);
            box-shadow: 0 0 30px rgba(232, 184, 109, 0.2);
        }

        .step-number {
            font-family: 'Cinzel', serif;
            font-size: 0.65rem;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .step-icon {
            font-size: 1.8rem;
            display: block;
            margin-bottom: 0.5rem;
        }

        .step-name {
            font-family: 'Cinzel', serif;
            font-size: 0.95rem;
            color: var(--gold);
            margin-bottom: 0.6rem;
            line-height: 1.3;
        }

        .step-description {
            font-size: 0.85rem;
            line-height: 1.5;
            color: var(--text-secondary);
        }

        .click-hint {
            font-size: 0.7rem;
            color: var(--gold-dark);
            font-style: italic;
            margin-top: 0.8rem;
            opacity: 0.8;
        }

        /* Modal for examples */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .modal-overlay.visible {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: linear-gradient(145deg, var(--ink-medium), var(--ink));
            border: 1px solid rgba(232, 184, 109, 0.3);
            border-radius: 12px;
            max-width: 900px;
            width: 100%;
            max-height: 85vh;
            overflow-y: auto;
            transform: translateY(30px) scale(0.95);
            transition: transform 0.4s ease;
        }

        .modal-overlay.visible .modal-content {
            transform: translateY(0) scale(1);
        }

        .modal-header {
            padding: 1.5rem 2rem;
            border-bottom: 1px solid rgba(232, 184, 109, 0.2);
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            background: var(--ink-medium);
            z-index: 10;
        }

        .modal-title-wrapper {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .modal-icon {
            font-size: 2rem;
        }

        .modal-title {
            font-family: 'Cinzel', serif;
            font-size: 1.3rem;
            color: var(--gold);
        }

        .modal-step {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 0.2rem;
        }

        .modal-close {
            background: none;
            border: 1px solid rgba(232, 184, 109, 0.3);
            color: var(--text-secondary);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            border-color: var(--gold);
            color: var(--gold);
            background: rgba(232, 184, 109, 0.1);
        }

        .modal-description {
            padding: 1.5rem 2rem;
            font-size: 1.05rem;
            line-height: 1.7;
            color: var(--text-primary);
            border-bottom: 1px solid rgba(232, 184, 109, 0.15);
        }

        .modal-examples {
            padding: 1.5rem 2rem;
        }

        .modal-examples-title {
            font-family: 'Cinzel', serif;
            font-size: 0.85rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .modal-nav {
            display: flex;
            justify-content: space-between;
            padding: 1rem 2rem 1.5rem;
            border-top: 1px solid rgba(232, 184, 109, 0.15);
            gap: 1rem;
        }

        .modal-nav-btn {
            flex: 1;
            max-width: 200px;
            padding: 0.8rem 1.2rem;
            font-family: 'Cinzel', serif;
            font-size: 0.85rem;
            background: rgba(232, 184, 109, 0.1);
            border: 1px solid rgba(232, 184, 109, 0.3);
            color: var(--gold);
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 6px;
        }

        .modal-nav-btn:hover,
        .modal-nav-btn:focus {
            background: rgba(232, 184, 109, 0.2);
            border-color: var(--gold);
            outline: none;
        }

        .modal-nav-btn:focus {
            box-shadow: 0 0 0 2px var(--gold);
        }

        .modal-nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        /* Epic examples in modal */
        .epic-examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1rem;
        }

        .epic-example {
            display: flex;
            gap: 1rem;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            border-left: 4px solid;
            transition: all 0.3s ease;
        }

        .epic-example:hover {
            background: rgba(0, 0, 0, 0.45);
            transform: translateX(5px);
        }

        .epic-example.odyssey { border-left-color: #5ab4d4; }
        .epic-example.starwars { border-left-color: #ffd93d; }
        .epic-example.lotr { border-left-color: #7cc45a; }
        .epic-example.matrix { border-left-color: #00ff7f; }
        .epic-example.zelda { border-left-color: #8ed45a; }
        .epic-example.harrypotter { border-left-color: #d4a35a; }
        .epic-example.lionking { border-left-color: #f4a142; }

        .epic-example .icon {
            font-size: 1.4rem;
            flex-shrink: 0;
        }

        .epic-example .title {
            font-family: 'Cinzel', serif;
            font-size: 0.85rem;
            color: var(--gold-light);
            margin-bottom: 0.4rem;
            font-weight: 600;
        }

        .epic-example .text {
            font-size: 0.9rem;
            line-height: 1.6;
            color: var(--text-primary);
        }

        /* Navigation arrows */
        .timeline-nav {
            display: flex;
            justify-content: center;
            gap: 1rem;
            padding: 1rem;
        }

        .nav-btn {
            background: rgba(232, 184, 109, 0.1);
            border: 1px solid rgba(232, 184, 109, 0.3);
            color: var(--gold);
            padding: 0.8rem 1.5rem;
            font-family: 'Cinzel', serif;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-btn:hover {
            background: rgba(232, 184, 109, 0.2);
            border-color: var(--gold);
        }

        .nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        /* Scroll indicator */
        .scroll-hint {
            text-align: center;
            padding: 0.5rem;
            font-size: 0.8rem;
            color: var(--text-secondary);
            font-style: italic;
        }

        .scroll-hint span {
            animation: pulse 2s ease infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        /* Theme switcher */
        .theme-switcher {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 200;
        }

        .theme-toggle {
            background: var(--ink-medium);
            border: 1px solid var(--gold-dark);
            color: var(--gold);
            padding: 0.5rem 0.8rem;
            font-family: 'Cinzel', serif;
            font-size: 0.7rem;
            cursor: pointer;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 0.4rem;
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            background: var(--gold);
            color: var(--ink);
        }

        .theme-toggle .icon {
            font-size: 1rem;
        }

        .theme-menu {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 0.5rem;
            background: var(--ink-medium);
            border: 1px solid var(--gold-dark);
            border-radius: 6px;
            padding: 0.5rem;
            min-width: 180px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .theme-switcher.open .theme-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .theme-option {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            padding: 0.6rem 0.8rem;
            background: none;
            border: none;
            color: var(--text-secondary);
            font-family: 'Crimson Pro', serif;
            font-size: 0.85rem;
            cursor: pointer;
            width: 100%;
            text-align: left;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .theme-option:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
        }

        .theme-option.active {
            background: var(--gold);
            color: var(--ink);
        }

        .theme-option .emoji {
            font-size: 1.1rem;
            width: 1.4rem;
            text-align: center;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 1rem;
            font-size: 0.8rem;
        }

        footer a {
            color: var(--text-secondary);
            text-decoration: none;
            opacity: 0.6;
            transition: opacity 0.3s ease;
        }

        footer a:hover {
            opacity: 1;
            color: var(--gold);
        }

        /* Mobile responsive */
        @media (max-width: 768px) {
            .timeline-container {
                padding: 2rem 1.5rem 2rem;
            }

            .timeline-item {
                width: 160px;
            }

            .content {
                width: 145px;
                padding: 1rem;
            }

            .phase-marker {
                width: 100px;
            }

            .phase-marker::before {
                width: 55px;
                height: 55px;
            }

            .phase-marker .phase-icon {
                top: 12px;
                font-size: 1.7rem;
            }

            .modal-content {
                margin: 1rem;
                max-height: 90vh;
            }

            .modal-header {
                padding: 1rem 1.2rem;
            }

            .modal-description,
            .modal-examples {
                padding: 1rem 1.2rem;
            }

            .epic-examples-grid {
                grid-template-columns: 1fr;
            }

            .epic-selector {
                gap: 0.3rem;
            }

            .epic-btn {
                padding: 0.4rem 0.6rem;
                font-size: 0.65rem;
            }
        }

        /* Keyboard navigation indicator */
        .keyboard-hint {
            text-align: center;
            padding: 0.5rem;
            font-size: 0.75rem;
            color: var(--text-secondary);
            opacity: 0.6;
        }

        .keyboard-hint kbd {
            background: var(--ink-medium);
            border: 1px solid rgba(232, 184, 109, 0.3);
            border-radius: 3px;
            padding: 0.1rem 0.4rem;
            font-family: monospace;
            margin: 0 0.2rem;
        }
    </style>
</head>
<body>
    <!-- Theme Switcher -->
    <div class="theme-switcher" id="themeSwitcher">
        <button class="theme-toggle" id="themeToggle">
            <span class="icon">üé®</span>
            <span>Th√®me</span>
        </button>
        <div class="theme-menu">
            <button class="theme-option active" data-theme="default">
                <span class="emoji">üìú</span>
                <span>Classique</span>
            </button>
            <button class="theme-option" data-theme="odyssey">
                <span class="emoji">üèõÔ∏è</span>
                <span>Odyss√©e</span>
            </button>
            <button class="theme-option" data-theme="starwars">
                <span class="emoji">‚öîÔ∏è</span>
                <span>Star Wars</span>
            </button>
            <button class="theme-option" data-theme="lotr">
                <span class="emoji">üíç</span>
                <span>Terre du Milieu</span>
            </button>
            <button class="theme-option" data-theme="matrix">
                <span class="emoji">üíä</span>
                <span>Matrix</span>
            </button>
            <button class="theme-option" data-theme="zelda">
                <span class="emoji">üó°Ô∏è</span>
                <span>Hyrule</span>
            </button>
            <button class="theme-option" data-theme="harrypotter">
                <span class="emoji">‚ö°</span>
                <span>Poudlard</span>
            </button>
            <button class="theme-option" data-theme="lionking">
                <span class="emoji">ü¶Å</span>
                <span>Savane</span>
            </button>
        </div>
    </div>

    <header>
        <h1>Le Voyage du H√©ros</h1>
        <p class="subtitle">Timeline du Monomythe</p>

        <nav class="epic-selector">
            <button class="epic-btn active" data-epic="all">
                <span class="emoji">üåü</span>
                Toutes
            </button>
            <button class="epic-btn" data-epic="odyssey">
                <span class="emoji">üèõÔ∏è</span>
                L'Odyss√©e
            </button>
            <button class="epic-btn" data-epic="starwars">
                <span class="emoji">‚öîÔ∏è</span>
                Star Wars
            </button>
            <button class="epic-btn" data-epic="lotr">
                <span class="emoji">üíç</span>
                Seigneur des Anneaux
            </button>
            <button class="epic-btn" data-epic="matrix">
                <span class="emoji">üíä</span>
                Matrix
            </button>
            <button class="epic-btn" data-epic="zelda">
                <span class="emoji">üó°Ô∏è</span>
                Zelda BOTW
            </button>
            <button class="epic-btn" data-epic="harrypotter">
                <span class="emoji">‚ö°</span>
                Harry Potter
            </button>
            <button class="epic-btn" data-epic="lionking">
                <span class="emoji">ü¶Å</span>
                Le Roi Lion
            </button>
        </nav>
    </header>

    <section class="intro-section">
        <p class="intro-text">En 1949, Joseph Campbell r√©v√®le que les mythes du monde entier partagent une structure commune : le voyage du h√©ros. S√©lectionnez une ou plusieurs ≈ìuvres et suivez l'√©volution pour d√©couvrir les 17 √©tapes de ces qu√™tes h√©ro√Øques.</p>
    </section>

    <div class="legend">
        <div class="legend-item">
            <span class="legend-dot departure"></span>
            <span>I. D√©part</span>
        </div>
        <div class="legend-item">
            <span class="legend-dot initiation"></span>
            <span>II. Initiation</span>
        </div>
        <div class="legend-item">
            <span class="legend-dot return"></span>
            <span>III. Retour</span>
        </div>
    </div>

    <p class="scroll-hint"><span>‚Üê Faites d√©filer horizontalement ‚Üí</span></p>

    <div class="timeline-wrapper">
        <div class="timeline-line"></div>
        <div class="timeline-container" id="timeline">
            <!-- PHASE I: D√âPART -->
            <div class="phase-marker departure">
                <span class="phase-icon">üö™</span>
                <h2 class="phase-title">Le D√©part</h2>
                <p class="phase-subtitle">La s√©paration d'avec le monde ordinaire</p>
            </div>

            <article class="timeline-item departure" data-step="1">
                <div class="timeline-node"></div>
                <div class="content">
                    <p class="step-number">√âtape 1</p>
                    <span class="step-icon">üè†</span>
                    <h3 class="step-name">Le Monde Ordinaire</h3>
                    <p class="step-description">Le h√©ros vit dans un monde connu, familier, souvent limit√©.</p>
                    <p class="click-hint">Cliquez pour voir les exemples</p>
                </div>
                <div class="epic-examples" hidden>
                    <div class="epic-example odyssey"><span class="icon">üèõÔ∏è</span><div><p class="title">L'Odyss√©e</p><p class="text">Ulysse r√®gne paisiblement sur Ithaque avec P√©n√©lope et le jeune T√©l√©maque, avant que la guerre de Troie ne l'arrache √† son foyer.</p></div></div>
                    <div class="epic-example starwars"><span class="icon">‚öîÔ∏è</span><div><p class="title">Star Wars</p><p class="text">Luke Skywalker est un fermier d'humidit√© sur Tatooine, r√™vant d'aventure tout en √©tant retenu par ses obligations familiales.</p></div></div>
                    <div class="epic-example lotr"><span class="icon">üíç</span><div><p class="title">Le Seigneur des Anneaux</p><p class="text">Frodon vit une existence tranquille dans la Comt√©, entour√© de collines verdoyantes et de f√™tes hobbites.</p></div></div>
                    <div class="epic-example matrix"><span class="icon">üíä</span><div><p class="title">Matrix</p><p class="text">Thomas Anderson m√®ne une double vie : programmeur le jour dans une entreprise grise, hacker "Neo" la nuit.</p></div></div>
                    <div class="epic-example zelda"><span class="icon">üó°Ô∏è</span><div><p class="title">Zelda: Breath of the Wild</p><p class="text">Link se r√©veille sans m√©moire dans le Sanctuaire de la Renaissance, seul dans une grotte silencieuse.</p></div></div>
                    <div class="epic-example harrypotter"><span class="icon">‚ö°</span><div><p class="title">Harry Potter</p><p class="text">Harry vit sous l'escalier chez les Dursley, maltrait√© et ignorant tout du monde magique et de sa v√©ritable identit√©.</p></div></div>
                    <div class="epic-example lionking"><span class="icon">ü¶Å</span><div><p class="title">Le Roi Lion</p><p class="text">Simba est un lionceau insouciant dans les Terres du Royaume, fils ador√© du roi Mufasa, h√©ritier du tr√¥ne.</p></div></div>
                </div>
            </article>

            <article class="timeline-item departure" data-step="2">
                <div class="timeline-node"></div>
                <div class="content">
                    <p class="step-number">√âtape 2</p>
                    <span class="step-icon">üìØ</span>
                    <h3 class="step-name">L'Appel de l'Aventure</h3>
                    <p class="step-description">Un √©v√©nement vient perturber l'√©quilibre et invite le h√©ros √† quitter son monde.</p>
                    <p class="click-hint">Cliquez pour voir les exemples</p>
                </div>
                <div class="epic-examples" hidden>
                    <div class="epic-example odyssey"><span class="icon">üèõÔ∏è</span><div><p class="title">L'Odyss√©e</p><p class="text">La guerre de Troie appelle tous les rois grecs. Ulysse, li√© par serment, doit abandonner sa famille pour dix ans de guerre.</p></div></div>
                    <div class="epic-example starwars"><span class="icon">‚öîÔ∏è</span><div><p class="title">Star Wars</p><p class="text">R2-D2 projette le message holographique de la princesse Leia : "Aide-moi, Obi-Wan Kenobi. Vous √™tes mon seul espoir."</p></div></div>
                    <div class="epic-example lotr"><span class="icon">üíç</span><div><p class="title">Le Seigneur des Anneaux</p><p class="text">Gandalf r√©v√®le √† Frodon que l'anneau de Bilbon est l'Anneau Unique de Sauron, et qu'il doit quitter la Comt√©.</p></div></div>
                    <div class="epic-example matrix"><span class="icon">üíä</span><div><p class="title">Matrix</p><p class="text">"La Matrice te poss√®de, Neo." Morpheus le contacte et lui propose de d√©couvrir ce qu'est vraiment la Matrice.</p></div></div>
                    <div class="epic-example zelda"><span class="icon">üó°Ô∏è</span><div><p class="title">Zelda: Breath of the Wild</p><p class="text">La voix de Zelda r√©sonne dans l'esprit de Link : "Ouvre les yeux... Le destin d'Hyrule repose entre tes mains."</p></div></div>
                    <div class="epic-example harrypotter"><span class="icon">‚ö°</span><div><p class="title">Harry Potter</p><p class="text">Les lettres de Poudlard arrivent par centaines, puis Hagrid surgit : "Harry, tu es un sorcier."</p></div></div>
                    <div class="epic-example lionking"><span class="icon">ü¶Å</span><div><p class="title">Le Roi Lion</p><p class="text">Mufasa montre √† Simba l'√©tendue du royaume depuis le rocher : "Tout ce que la lumi√®re touche sera ton royaume un jour."</p></div></div>
                </div>
            </article>

            <article class="timeline-item departure" data-step="3">
                <div class="timeline-node"></div>
                <div class="content">
                    <p class="step-number">√âtape 3</p>
                    <span class="step-icon">üö´</span>
                    <h3 class="step-name">Le Refus de l'Appel</h3>
                    <p class="step-description">Face √† l'inconnu, le h√©ros h√©site. La peur le retient dans sa zone de confort.</p>
                    <p class="click-hint">Cliquez pour voir les exemples</p>
                </div>
                <div class="epic-examples" hidden>
                    <div class="epic-example odyssey"><span class="icon">üèõÔ∏è</span><div><p class="title">L'Odyss√©e</p><p class="text">Ulysse feint la folie, labourant son champ avec du sel, pour √©chapper √† l'appel de la guerre. Palam√®de d√©joue sa ruse.</p></div></div>
                    <div class="epic-example starwars"><span class="icon">‚öîÔ∏è</span><div><p class="title">Star Wars</p><p class="text">"Je ne peux pas partir comme √ßa. Il y a la r√©colte..." Luke invoque ses obligations envers son oncle pour refuser.</p></div></div>
                    <div class="epic-example lotr"><span class="icon">üíç</span><div><p class="title">Le Seigneur des Anneaux</p><p class="text">"Je voudrais que l'Anneau ne soit jamais venu jusqu'√† moi." Frodon esp√®re que quelqu'un d'autre portera ce fardeau.</p></div></div>
                    <div class="epic-example matrix"><span class="icon">üíä</span><div><p class="title">Matrix</p><p class="text">Au bord de la fen√™tre de son bureau, Neo ne peut pas faire le saut de foi. Il se laisse capturer par les agents.</p></div></div>
                    <div class="epic-example zelda"><span class="icon">üó°Ô∏è</span><div><p class="title">Zelda: Breath of the Wild</p><p class="text">Le joueur peut errer ind√©finiment sur le Plateau, cuisinant et chassant, sans jamais affronter son destin.</p></div></div>
                    <div class="epic-example harrypotter"><span class="icon">‚ö°</span><div><p class="title">Harry Potter</p><p class="text">L'oncle Vernon tente d√©sesp√©r√©ment d'emp√™cher Harry de recevoir sa lettre, le refus vient de l'ext√©rieur plut√¥t que du h√©ros.</p></div></div>
                    <div class="epic-example lionking"><span class="icon">ü¶Å</span><div><p class="title">Le Roi Lion</p><p class="text">Apr√®s la mort de Mufasa, Simba fuit et refuse son destin de roi : "Je ne peux pas retourner. Qu'est-ce que √ßa changerait ?"</p></div></div>
                </div>
            </article>

            <article class="timeline-item departure" data-step="4">
                <div class="timeline-node"></div>
                <div class="content">
                    <p class="step-number">√âtape 4</p>
                    <span class="step-icon">üßô</span>
                    <h3 class="step-name">Le Mentor</h3>
                    <p class="step-description">Une figure sage appara√Æt pour guider et √©quiper le h√©ros.</p>
                    <p class="click-hint">Cliquez pour voir les exemples</p>
                </div>
                <div class="epic-examples" hidden>
                    <div class="epic-example odyssey"><span class="icon">üèõÔ∏è</span><div><p class="title">L'Odyss√©e</p><p class="text">Ath√©na, d√©esse de la sagesse, veille sur Ulysse tout au long de son p√©riple, prenant diverses formes pour le guider.</p></div></div>
                    <div class="epic-example starwars"><span class="icon">‚öîÔ∏è</span><div><p class="title">Star Wars</p><p class="text">Obi-Wan Kenobi remet √† Luke le sabre laser de son p√®re et lui r√©v√®le l'existence de la Force.</p></div></div>
                    <div class="epic-example lotr"><span class="icon">üíç</span><div><p class="title">Le Seigneur des Anneaux</p><p class="text">Gandalf guide les premiers pas de Frodon, puis d'autres mentors prennent le relais : Galadriel, Elrond, Aragorn.</p></div></div>
                    <div class="epic-example matrix"><span class="icon">üíä</span><div><p class="title">Matrix</p><p class="text">Morpheus lib√®re Neo de la Matrice, lui r√©v√®le la v√©rit√© sur le monde, et l'entra√Æne au combat dans les simulations.</p></div></div>
                    <div class="epic-example zelda"><span class="icon">üó°Ô∏è</span><div><p class="title">Zelda: Breath of the Wild</p><p class="text">Le fant√¥me du roi Rhoam guide Link sur le Plateau. Plus tard, Impa et les esprits des Prodiges l'√©clairent.</p></div></div>
                    <div class="epic-example harrypotter"><span class="icon">‚ö°</span><div><p class="title">Harry Potter</p><p class="text">Hagrid l'introduit au monde magique, puis Dumbledore veille sur lui tout au long de ses ann√©es √† Poudlard.</p></div></div>
                    <div class="epic-example lionking"><span class="icon">ü¶Å</span><div><p class="title">Le Roi Lion</p><p class="text">Mufasa enseigne √† Simba le cycle de la vie. Plus tard, Rafiki le guide vers la vision de son p√®re dans les √©toiles.</p></div></div>
                </div>
            </article>

            <article class="timeline-item departure" data-step="5">
                <div class="timeline-node"></div>
                <div class="content">
                    <p class="step-number">√âtape 5</p>
                    <span class="step-icon">üö™</span>
                    <h3 class="step-name">Le Passage du Seuil</h3>
                    <p class="step-description">Le h√©ros franchit la fronti√®re entre le monde ordinaire et l'aventure.</p>
                    <p class="click-hint">Cliquez pour voir les exemples</p>
                </div>
                <div class="epic-examples" hidden>
                    <div class="epic-example odyssey"><span class="icon">üèõÔ∏è</span><div><p class="title">L'Odyss√©e</p><p class="text">Au d√©part de Troie, Ulysse entre dans un monde d'√©preuves o√π les r√®gles ordinaires ne s'appliquent plus.</p></div></div>
                    <div class="epic-example starwars"><span class="icon">‚öîÔ∏è</span><div><p class="title">Star Wars</p><p class="text">Luke quitte Tatooine √† bord du Faucon Millenium. En hyperespace, son ancienne vie s'√©loigne √† jamais.</p></div></div>
                    <div class="epic-example lotr"><span class="icon">üíç</span><div><p class="title">Le Seigneur des Anneaux</p><p class="text">Frodon traverse la fronti√®re de la Comt√© √† Bree : "C'est le pas le plus loin de chez moi que j'aie jamais fait."</p></div></div>
                    <div class="epic-example matrix"><span class="icon">üíä</span><div><p class="title">Matrix</p><p class="text">Neo avale la pilule rouge. Son corps se dissout, il se r√©veille dans sa cuve de culture, nu et vuln√©rable.</p></div></div>
                    <div class="epic-example zelda"><span class="icon">üó°Ô∏è</span><div><p class="title">Zelda: Breath of the Wild</p><p class="text">Link obtient la paravoile et s'√©lance du Plateau du Pr√©lude vers l'immensit√© d'Hyrule en ruines.</p></div></div>
                    <div class="epic-example harrypotter"><span class="icon">‚ö°</span><div><p class="title">Harry Potter</p><p class="text">Harry traverse le mur de la voie 9¬æ et monte dans le Poudlard Express. Le monde moldu dispara√Æt derri√®re lui.</p></div></div>
                    <div class="epic-example lionking"><span class="icon">ü¶Å</span><div><p class="title">Le Roi Lion</p><p class="text">Simba traverse le d√©sert apr√®s la mort de son p√®re, quittant les Terres du Royaume pour ne jamais revenir... croit-il.</p></div></div>
                </div>
            </article>

            <article class="timeline-item departure" data-step="6">
                <div class="timeline-node"></div>
                <div class="content">
                    <p class="step-number">√âtape 6</p>
                    <span class="step-icon">üêã</span>
                    <h3 class="step-name">Le Ventre de la Baleine</h3>
                    <p class="step-description">Une √©preuve engloutit le h√©ros dans les t√©n√®bres. Premi√®re mort symbolique.</p>
                    <p class="click-hint">Cliquez pour voir les exemples</p>
                </div>
                <div class="epic-examples" hidden>
                    <div class="epic-example odyssey"><span class="icon">üèõÔ∏è</span><div><p class="title">L'Odyss√©e</p><p class="text">Ulysse et ses compagnons sont pi√©g√©s dans la grotte du Cyclope. Pour en sortir, il devra ruser et sacrifier des hommes.</p></div></div>
                    <div class="epic-example starwars"><span class="icon">‚öîÔ∏è</span><div><p class="title">Star Wars</p><p class="text">Le Faucon Millenium est captur√© par le rayon tracteur de l'√âtoile de la Mort. Luke entre dans le ventre de l'ennemi.</p></div></div>
                    <div class="epic-example lotr"><span class="icon">üíç</span><div><p class="title">Le Seigneur des Anneaux</p><p class="text">Les Hobbits sont pi√©g√©s par les Cavaliers Noirs, puis s'√©garent chez Tom Bombadil et dans les Hauts des Galgals.</p></div></div>
                    <div class="epic-example matrix"><span class="icon">üíä</span><div><p class="title">Matrix</p><p class="text">Neo se r√©veille dans sa cuve de culture, corps atrophi√©, tubes plant√©s dans la chair. Il voit l'horreur de la r√©alit√©.</p></div></div>
                    <div class="epic-example zelda"><span class="icon">üó°Ô∏è</span><div><p class="title">Zelda: Breath of the Wild</p><p class="text">Link d√©couvre l'ampleur du d√©sastre : Hyrule est en ruines depuis 100 ans, ses alli√©s sont morts, Zelda lutte seule.</p></div></div>
                    <div class="epic-example harrypotter"><span class="icon">‚ö°</span><div><p class="title">Harry Potter</p><p class="text">Harry descend dans les souterrains pour affronter le troll, puis plus tard dans la Chambre des Secrets ou le cimeti√®re.</p></div></div>
                    <div class="epic-example lionking"><span class="icon">ü¶Å</span><div><p class="title">Le Roi Lion</p><p class="text">Simba s'effondre dans le d√©sert, mourant de soif et de d√©sespoir. Timon et Pumbaa le trouvent inanim√©.</p></div></div>
                </div>
            </article>

            <!-- PHASE II: INITIATION -->
            <div class="phase-marker initiation">
                <span class="phase-icon">‚öîÔ∏è</span>
                <h2 class="phase-title">L'Initiation</h2>
                <p class="phase-subtitle">Les √©preuves qui transforment</p>
            </div>

            <article class="timeline-item initiation" data-step="7">
                <div class="timeline-node"></div>
                <div class="content">
                    <p class="step-number">√âtape 7</p>
                    <span class="step-icon">üó°Ô∏è</span>
                    <h3 class="step-name">Le Chemin des √âpreuves</h3>
                    <p class="step-description">Une s√©rie d'obstacles forge le h√©ros et lui r√©v√®le ses forces.</p>
                    <p class="click-hint">Cliquez pour voir les exemples</p>
                </div>
                <div class="epic-examples" hidden>
                    <div class="epic-example odyssey"><span class="icon">üèõÔ∏è</span><div><p class="title">L'Odyss√©e</p><p class="text">Le Cyclope, les Lestrygons, Circ√©, les Sir√®nes, Charybde et Scylla, les vaches du Soleil... Chaque √Æle est une √©preuve.</p></div></div>
                    <div class="epic-example starwars"><span class="icon">‚öîÔ∏è</span><div><p class="title">Star Wars</p><p class="text">L'entra√Ænement au sabre, le sauvetage de Leia, la bataille de Yavin, Dagobah, la grotte obscure, Bespin...</p></div></div>
                    <div class="epic-example lotr"><span class="icon">üíç</span><div><p class="title">Le Seigneur des Anneaux</p><p class="text">Les Mines de la Moria, l'Amon Hen, les Marais des Morts, l'antre d'Arachne... Le chemin vers le Mordor est sem√© d'horreurs.</p></div></div>
                    <div class="epic-example matrix"><span class="icon">üíä</span><div><p class="title">Matrix</p><p class="text">Les entra√Ænements dans la simulation, les combats contre les agents, l'infiltration du b√¢timent gouvernemental...</p></div></div>
                    <div class="epic-example zelda"><span class="icon">üó°Ô∏è</span><div><p class="title">Zelda: Breath of the Wild</p><p class="text">Les quatre Cr√©atures Divines, les 120 sanctuaires, les Lynel, les camps de monstres, les √©preuves climatiques...</p></div></div>
                    <div class="epic-example harrypotter"><span class="icon">‚ö°</span><div><p class="title">Harry Potter</p><p class="text">Les sept ann√©es √† Poudlard : le Tournoi des Trois Sorciers, les cours d'Occlumencie, la bataille du Minist√®re, la chasse aux Horcruxes...</p></div></div>
                    <div class="epic-example lionking"><span class="icon">ü¶Å</span><div><p class="title">Le Roi Lion</p><p class="text">Simba grandit dans la jungle avec Timon et Pumbaa, apprenant "Hakuna Matata" ‚Äî mais aussi √† survivre et √† devenir fort.</p></div></div>
                </div>
            </article>

            <article class="timeline-item initiation" data-step="8">
                <div class="timeline-node"></div>
                <div class="content">
                    <p class="step-number">√âtape 8</p>
                    <span class="step-icon">üíï</span>
                    <h3 class="step-name">La Rencontre avec la D√©esse</h3>
                    <p class="step-description">L'exp√©rience de l'amour inconditionnel qui donne force et sens.</p>
                    <p class="click-hint">Cliquez pour voir les exemples</p>
                </div>
                <div class="epic-examples" hidden>
                    <div class="epic-example odyssey"><span class="icon">üèõÔ∏è</span><div><p class="title">L'Odyss√©e</p><p class="text">Circ√© puis Calypso offrent √† Ulysse amour et refuge. Mais c'est vers P√©n√©lope, l'amour vrai, qu'il veut retourner.</p></div></div>
                    <div class="epic-example starwars"><span class="icon">‚öîÔ∏è</span><div><p class="title">Star Wars</p><p class="text">Leia est √† la fois la princesse √† sauver et l'alli√©e √©gale. Leur lien donnera √† Luke la force de continuer.</p></div></div>
                    <div class="epic-example lotr"><span class="icon">üíç</span><div><p class="title">Le Seigneur des Anneaux</p><p class="text">Galadriel offre sa lumi√®re et sa sagesse. Pour Aragorn, Arwen est l'√©toile qui guide ses pas vers son destin.</p></div></div>
                    <div class="epic-example matrix"><span class="icon">üíä</span><div><p class="title">Matrix</p><p class="text">Trinity aime Neo avant m√™me qu'il ne devienne l'√âlu. Son amour le ram√®nera litt√©ralement d'entre les morts.</p></div></div>
                    <div class="epic-example zelda"><span class="icon">üó°Ô∏è</span><div><p class="title">Zelda: Breath of the Wild</p><p class="text">Les souvenirs de Zelda reviennent progressivement, r√©v√©lant leur lien et le sacrifice qu'elle a fait pour lui.</p></div></div>
                    <div class="epic-example harrypotter"><span class="icon">‚ö°</span><div><p class="title">Harry Potter</p><p class="text">L'amour de sa m√®re Lily le prot√®ge depuis le d√©but. Ginny devient son ancre, et l'amiti√© d'Hermione et Ron le soutient.</p></div></div>
                    <div class="epic-example lionking"><span class="icon">ü¶Å</span><div><p class="title">Le Roi Lion</p><p class="text">Nala retrouve Simba dans la jungle. Leur retrouvaille r√©veille en lui l'amour et le souvenir de qui il est vraiment.</p></div></div>
                </div>
            </article>

            <article class="timeline-item initiation" data-step="9">
                <div class="timeline-node"></div>
                <div class="content">
                    <p class="step-number">√âtape 9</p>
                    <span class="step-icon">üçé</span>
                    <h3 class="step-name">La Tentation</h3>
                    <p class="step-description">Le h√©ros est tent√© de s'√©carter de sa qu√™te par le confort ou le pouvoir.</p>
                    <p class="click-hint">Cliquez pour voir les exemples</p>
                </div>
                <div class="epic-examples" hidden>
                    <div class="epic-example odyssey"><span class="icon">üèõÔ∏è</span><div><p class="title">L'Odyss√©e</p><p class="text">Les Lotophages offrent l'oubli, Circ√© la r√©gression animale, les Sir√®nes le savoir mortel, Calypso l'immortalit√©.</p></div></div>
                    <div class="epic-example starwars"><span class="icon">‚öîÔ∏è</span><div><p class="title">Star Wars</p><p class="text">Le c√¥t√© obscur offre le pouvoir rapide. Vader tente Luke : "Joins-toi √† moi, et ensemble nous dominerons la galaxie."</p></div></div>
                    <div class="epic-example lotr"><span class="icon">üíç</span><div><p class="title">Le Seigneur des Anneaux</p><p class="text">L'Anneau murmure constamment √† Frodon, lui promettant le pouvoir, tentant tous ceux qui l'approchent.</p></div></div>
                    <div class="epic-example matrix"><span class="icon">üíä</span><div><p class="title">Matrix</p><p class="text">Cypher trahit l'√©quipage pour retrouver l'ignorance confortable de la Matrice : "L'ignorance, c'est le bonheur."</p></div></div>
                    <div class="epic-example zelda"><span class="icon">üó°Ô∏è</span><div><p class="title">Zelda: Breath of the Wild</p><p class="text">Le joueur peut s'installer dans l'exploration infinie, cuisinant et collectionnant, sans jamais affronter Ganon.</p></div></div>
                    <div class="epic-example harrypotter"><span class="icon">‚ö°</span><div><p class="title">Harry Potter</p><p class="text">Le Miroir du Ris√©d montre ses parents ; les Reliques de la Mort promettent le pouvoir sur la mort elle-m√™me.</p></div></div>
                    <div class="epic-example lionking"><span class="icon">ü¶Å</span><div><p class="title">Le Roi Lion</p><p class="text">"Hakuna Matata" ‚Äî la philosophie sans souci est une tentation de l'oubli. Simba choisit l'insouciance plut√¥t que ses responsabilit√©s.</p></div></div>
                </div>
            </article>

            <article class="timeline-item initiation" data-step="10">
                <div class="timeline-node"></div>
                <div class="content">
                    <p class="step-number">√âtape 10</p>
                    <span class="step-icon">üë§</span>
                    <h3 class="step-name">Confrontation avec l'Ombre</h3>
                    <p class="step-description">Le h√©ros affronte sa part d'ombre ou la figure d'autorit√©.</p>
                    <p class="click-hint">Cliquez pour voir les exemples</p>
                </div>
                <div class="epic-examples" hidden>
                    <div class="epic-example odyssey"><span class="icon">üèõÔ∏è</span><div><p class="title">L'Odyss√©e</p><p class="text">Aux Enfers, Ulysse rencontre l'ombre de sa m√®re, des h√©ros morts, et Tir√©sias. Il confronte son pass√© et sa mortalit√©.</p></div></div>
                    <div class="epic-example starwars"><span class="icon">‚öîÔ∏è</span><div><p class="title">Star Wars</p><p class="text">"Je suis ton p√®re." Luke doit accepter Vader comme son p√®re et reconna√Ætre en lui sa propre capacit√© au mal.</p></div></div>
                    <div class="epic-example lotr"><span class="icon">üíç</span><div><p class="title">Le Seigneur des Anneaux</p><p class="text">Au Mont Doom, Frodon c√®de √† l'Anneau : "L'Anneau est √† moi !" Il d√©couvre que m√™me lui peut √©chouer.</p></div></div>
                    <div class="epic-example matrix"><span class="icon">üíä</span><div><p class="title">Matrix</p><p class="text">L'agent Smith est le double invers√© de Neo. Leur affrontement est une lutte entre deux versions de la r√©alit√©.</p></div></div>
                    <div class="epic-example zelda"><span class="icon">üó°Ô∏è</span><div><p class="title">Zelda: Breath of the Wild</p><p class="text">Link affronte Ganon, incarnation de sa d√©faite pass√©e. Vaincre le Fl√©au, c'est d√©passer son √©chec d'il y a 100 ans.</p></div></div>
                    <div class="epic-example harrypotter"><span class="icon">‚ö°</span><div><p class="title">Harry Potter</p><p class="text">Harry d√©couvre qu'il est lui-m√™me un Horcruxe ‚Äî une part de Voldemort vit en lui. Il doit accepter de mourir pour vaincre.</p></div></div>
                    <div class="epic-example lionking"><span class="icon">ü¶Å</span><div><p class="title">Le Roi Lion</p><p class="text">Le fant√¥me de Mufasa appara√Æt : "Tu es mon fils, et le seul vrai roi. Souviens-toi de qui tu es." Simba affronte sa culpabilit√©.</p></div></div>
                </div>
            </article>

            <article class="timeline-item initiation" data-step="11">
                <div class="timeline-node"></div>
                <div class="content">
                    <p class="step-number">√âtape 11</p>
                    <span class="step-icon">‚ú®</span>
                    <h3 class="step-name">L'Apoth√©ose</h3>
                    <p class="step-description">Un moment de gr√¢ce et de transcendance. Compr√©hension sup√©rieure.</p>
                    <p class="click-hint">Cliquez pour voir les exemples</p>
                </div>
                <div class="epic-examples" hidden>
                    <div class="epic-example odyssey"><span class="icon">üèõÔ∏è</span><div><p class="title">L'Odyss√©e</p><p class="text">Ulysse refuse l'immortalit√© de Calypso. Il choisit de rester mortel, humain, limit√© ‚Äî mais libre et lui-m√™me.</p></div></div>
                    <div class="epic-example starwars"><span class="icon">‚öîÔ∏è</span><div><p class="title">Star Wars</p><p class="text">Luke jette son sabre : "Je suis un Jedi, comme mon p√®re avant moi." Il refuse le c√¥t√© obscur et transcende le combat.</p></div></div>
                    <div class="epic-example lotr"><span class="icon">üíç</span><div><p class="title">Le Seigneur des Anneaux</p><p class="text">L'Anneau est d√©truit ‚Äî non par la volont√© de Frodon, mais par un concours de circonstances. La gr√¢ce d√©passe l'effort.</p></div></div>
                    <div class="epic-example matrix"><span class="icon">üíä</span><div><p class="title">Matrix</p><p class="text">Neo voit enfin le code de la Matrice. Le monde devient lisible, manipulable. Il est v√©ritablement l'√âlu.</p></div></div>
                    <div class="epic-example zelda"><span class="icon">üó°Ô∏è</span><div><p class="title">Zelda: Breath of the Wild</p><p class="text">Link r√©cup√®re l'√©p√©e de L√©gende et tous ses souvenirs. Il sait enfin qui il est et ce qu'il doit accomplir.</p></div></div>
                    <div class="epic-example harrypotter"><span class="icon">‚ö°</span><div><p class="title">Harry Potter</p><p class="text">Dans la gare de King's Cross, Harry dialogue avec Dumbledore entre vie et mort. Il comprend et choisit de revenir.</p></div></div>
                    <div class="epic-example lionking"><span class="icon">ü¶Å</span><div><p class="title">Le Roi Lion</p><p class="text">Simba accepte enfin son identit√© : "Je suis Simba, fils de Mufasa." Il cesse de fuir et d√©cide de rentrer.</p></div></div>
                </div>
            </article>

            <article class="timeline-item initiation" data-step="12">
                <div class="timeline-node"></div>
                <div class="content">
                    <p class="step-number">√âtape 12</p>
                    <span class="step-icon">üèÜ</span>
                    <h3 class="step-name">Le Don Ultime</h3>
                    <p class="step-description">Le h√©ros obtient ce qu'il cherchait : objet, pouvoir ou transformation.</p>
                    <p class="click-hint">Cliquez pour voir les exemples</p>
                </div>
                <div class="epic-examples" hidden>
                    <div class="epic-example odyssey"><span class="icon">üèõÔ∏è</span><div><p class="title">L'Odyss√©e</p><p class="text">Ulysse gagne la nostos, le retour. Plus qu'un voyage physique, c'est la sagesse qui lui permettra de reconqu√©rir son royaume.</p></div></div>
                    <div class="epic-example starwars"><span class="icon">‚öîÔ∏è</span><div><p class="title">Star Wars</p><p class="text">Luke ma√Ætrise la Force et obtient la r√©demption de son p√®re. Vader meurt en Anakin Skywalker, r√©concili√©.</p></div></div>
                    <div class="epic-example lotr"><span class="icon">üíç</span><div><p class="title">Le Seigneur des Anneaux</p><p class="text">Sauron est vaincu, la Terre du Milieu lib√©r√©e. Mais le don est amer : Frodon est bless√© √† jamais par sa qu√™te.</p></div></div>
                    <div class="epic-example matrix"><span class="icon">üíä</span><div><p class="title">Matrix</p><p class="text">Neo peut manipuler la Matrice √† volont√©. Il d√©tient le pouvoir de lib√©rer l'humanit√© de son sommeil.</p></div></div>
                    <div class="epic-example zelda"><span class="icon">üó°Ô∏è</span><div><p class="title">Zelda: Breath of the Wild</p><p class="text">Link poss√®de la puissance n√©cessaire pour affronter le Fl√©au : l'√©p√©e, les pouvoirs des Prodiges, ses souvenirs.</p></div></div>
                    <div class="epic-example harrypotter"><span class="icon">‚ö°</span><div><p class="title">Harry Potter</p><p class="text">Harry poss√®de les trois Reliques de la Mort et ma√Ætrise la baguette de Sureau. Mais son vrai don est l'acceptation de la mort.</p></div></div>
                    <div class="epic-example lionking"><span class="icon">ü¶Å</span><div><p class="title">Le Roi Lion</p><p class="text">Simba a retrouv√© son courage et son identit√©. Il est pr√™t √† reprendre sa place l√©gitime de roi.</p></div></div>
                </div>
            </article>

            <!-- PHASE III: RETOUR -->
            <div class="phase-marker return">
                <span class="phase-icon">üè†</span>
                <h2 class="phase-title">Le Retour</h2>
                <p class="phase-subtitle">La r√©int√©gration du monde ordinaire</p>
            </div>

            <article class="timeline-item return" data-step="13">
                <div class="timeline-node"></div>
                <div class="content">
                    <p class="step-number">√âtape 13</p>
                    <span class="step-icon">üåÖ</span>
                    <h3 class="step-name">Le Refus du Retour</h3>
                    <p class="step-description">Le h√©ros h√©site √† revenir √† la vie ordinaire apr√®s ses merveilles.</p>
                    <p class="click-hint">Cliquez pour voir les exemples</p>
                </div>
                <div class="epic-examples" hidden>
                    <div class="epic-example odyssey"><span class="icon">üèõÔ∏è</span><div><p class="title">L'Odyss√©e</p><p class="text">Ulysse reste sept ans chez Calypso. Est-ce captivit√© ou tentation de l'oubli ? Le retour exige un arrachement.</p></div></div>
                    <div class="epic-example starwars"><span class="icon">‚öîÔ∏è</span><div><p class="title">Star Wars</p><p class="text">Luke refuse de fuir sans son p√®re. Il reste sur l'√âtoile de la Mort pour sauver Vader de l'Empereur.</p></div></div>
                    <div class="epic-example lotr"><span class="icon">üíç</span><div><p class="title">Le Seigneur des Anneaux</p><p class="text">Frodon, bless√© par l'Anneau, ne peut plus vivre normalement. La Comt√© lui est devenue √©trang√®re.</p></div></div>
                    <div class="epic-example matrix"><span class="icon">üíä</span><div><p class="title">Matrix</p><p class="text">Neo choisit de rester dans la Matrice pour continuer le combat. Le monde r√©el peut attendre.</p></div></div>
                    <div class="epic-example zelda"><span class="icon">üó°Ô∏è</span><div><p class="title">Zelda: Breath of the Wild</p><p class="text">Le joueur peut ind√©finiment repousser le combat final, profitant de la libert√© d'exploration.</p></div></div>
                    <div class="epic-example harrypotter"><span class="icon">‚ö°</span><div><p class="title">Harry Potter</p><p class="text">Dans les limbes de King's Cross, Harry pourrait "prendre un train" et partir. Dumbledore lui laisse le choix.</p></div></div>
                    <div class="epic-example lionking"><span class="icon">ü¶Å</span><div><p class="title">Le Roi Lion</p><p class="text">Simba h√©site encore : "Je ne peux pas affronter Scar, tout le monde croira que j'ai tu√© mon p√®re."</p></div></div>
                </div>
            </article>

            <article class="timeline-item return" data-step="14">
                <div class="timeline-node"></div>
                <div class="content">
                    <p class="step-number">√âtape 14</p>
                    <span class="step-icon">üåä</span>
                    <h3 class="step-name">Le Passage du Retour</h3>
                    <p class="step-description">Le chemin du retour peut √™tre aussi p√©rilleux que l'aller.</p>
                    <p class="click-hint">Cliquez pour voir les exemples</p>
                </div>
                <div class="epic-examples" hidden>
                    <div class="epic-example odyssey"><span class="icon">üèõÔ∏è</span><div><p class="title">L'Odyss√©e</p><p class="text">Ulysse arrive √† Ithaque d√©guis√© en mendiant. Il doit traverser son propre palais en √©tranger avant de se r√©v√©ler.</p></div></div>
                    <div class="epic-example starwars"><span class="icon">‚öîÔ∏è</span><div><p class="title">Star Wars</p><p class="text">Luke s'√©chappe de l'√âtoile de la Mort en flammes, portant le corps de son p√®re rachet√©.</p></div></div>
                    <div class="epic-example lotr"><span class="icon">üíç</span><div><p class="title">Le Seigneur des Anneaux</p><p class="text">Les Hobbits reviennent dans une Comt√© occup√©e par Saroumane. Un dernier combat les attend chez eux.</p></div></div>
                    <div class="epic-example matrix"><span class="icon">üíä</span><div><p class="title">Matrix</p><p class="text">Neo est tu√© par Smith, mais l'amour de Trinity le ram√®ne. Il ressuscite, transform√©.</p></div></div>
                    <div class="epic-example zelda"><span class="icon">üó°Ô∏è</span><div><p class="title">Zelda: Breath of the Wild</p><p class="text">Link entre dans le ch√¢teau d'Hyrule, traversant les ruines de ce qui fut sa maison.</p></div></div>
                    <div class="epic-example harrypotter"><span class="icon">‚ö°</span><div><p class="title">Harry Potter</p><p class="text">Harry revient √† la vie et feint la mort pendant que Hagrid le porte. Il attend le moment de se r√©v√©ler.</p></div></div>
                    <div class="epic-example lionking"><span class="icon">ü¶Å</span><div><p class="title">Le Roi Lion</p><p class="text">Simba traverse les Terres du Royaume d√©vast√©es par Scar. Ce qui √©tait luxuriant est devenu d√©sert et mort.</p></div></div>
                </div>
            </article>

            <article class="timeline-item return" data-step="15">
                <div class="timeline-node"></div>
                <div class="content">
                    <p class="step-number">√âtape 15</p>
                    <span class="step-icon">üî•</span>
                    <h3 class="step-name">L'√âpreuve Finale</h3>
                    <p class="step-description">Un dernier combat cristallise tout ce que le h√©ros a appris.</p>
                    <p class="click-hint">Cliquez pour voir les exemples</p>
                </div>
                <div class="epic-examples" hidden>
                    <div class="epic-example odyssey"><span class="icon">üèõÔ∏è</span><div><p class="title">L'Odyss√©e</p><p class="text">Ulysse bande son arc et massacre les pr√©tendants qui ont envahi sa maison et convoit√© sa femme.</p></div></div>
                    <div class="epic-example starwars"><span class="icon">‚öîÔ∏è</span><div><p class="title">Star Wars</p><p class="text">L'Empereur tente de d√©truire Luke. Vader, touch√© par l'amour de son fils, se retourne et tue son ma√Ætre.</p></div></div>
                    <div class="epic-example lotr"><span class="icon">üíç</span><div><p class="title">Le Seigneur des Anneaux</p><p class="text">Le nettoyage de la Comt√© : les Hobbits, transform√©s par leurs √©preuves, lib√®rent leur pays par eux-m√™mes.</p></div></div>
                    <div class="epic-example matrix"><span class="icon">üíä</span><div><p class="title">Matrix</p><p class="text">Neo affronte Smith une derni√®re fois. Voyant le code, il entre dans l'agent et le fait exploser de l'int√©rieur.</p></div></div>
                    <div class="epic-example zelda"><span class="icon">üó°Ô∏è</span><div><p class="title">Zelda: Breath of the Wild</p><p class="text">Combat contre Ganon dans le ch√¢teau, puis contre le Fl√©au dans la plaine d'Hyrule. Zelda ach√®ve le monstre.</p></div></div>
                    <div class="epic-example harrypotter"><span class="icon">‚ö°</span><div><p class="title">Harry Potter</p><p class="text">Harry affronte Voldemort dans la Grande Salle. Les baguettes se croisent, et le sortil√®ge de mort se retourne contre son lanceur.</p></div></div>
                    <div class="epic-example lionking"><span class="icon">ü¶Å</span><div><p class="title">Le Roi Lion</p><p class="text">Simba affronte Scar au sommet du Rocher du Lion. La v√©rit√© √©clate, et Scar est vaincu par ses propres alli√©es, les hy√®nes.</p></div></div>
                </div>
            </article>

            <article class="timeline-item return" data-step="16">
                <div class="timeline-node"></div>
                <div class="content">
                    <p class="step-number">√âtape 16</p>
                    <span class="step-icon">‚öñÔ∏è</span>
                    <h3 class="step-name">Ma√Ætre des Deux Mondes</h3>
                    <p class="step-description">Le h√©ros peut d√©sormais circuler entre les deux mondes.</p>
                    <p class="click-hint">Cliquez pour voir les exemples</p>
                </div>
                <div class="epic-examples" hidden>
                    <div class="epic-example odyssey"><span class="icon">üèõÔ∏è</span><div><p class="title">L'Odyss√©e</p><p class="text">Ulysse est √† nouveau roi, √©poux et p√®re. Ses √©preuves lui ont donn√© la sagesse de gouverner.</p></div></div>
                    <div class="epic-example starwars"><span class="icon">‚öîÔ∏è</span><div><p class="title">Star Wars</p><p class="text">Luke est un Jedi accompli, h√©ritier de son p√®re rachet√©, pont entre l'ancienne et la nouvelle g√©n√©ration.</p></div></div>
                    <div class="epic-example lotr"><span class="icon">üíç</span><div><p class="title">Le Seigneur des Anneaux</p><p class="text">Frodon a acc√®s aux Havres Gris, royaume des Elfes. Aragorn r√®gne, Sam devient maire.</p></div></div>
                    <div class="epic-example matrix"><span class="icon">üíä</span><div><p class="title">Matrix</p><p class="text">Neo peut entrer et sortir de la Matrice √† volont√©, manipulant ses r√®gles. Il est libre des deux c√¥t√©s.</p></div></div>
                    <div class="epic-example zelda"><span class="icon">üó°Ô∏è</span><div><p class="title">Zelda: Breath of the Wild</p><p class="text">Link a vaincu le mal. Il peut parcourir Hyrule en h√©ros reconnu, m√©moire et pouvoir restaur√©s.</p></div></div>
                    <div class="epic-example harrypotter"><span class="icon">‚ö°</span><div><p class="title">Harry Potter</p><p class="text">Harry poss√®de les Reliques mais choisit de ne garder que la Cape. Il peut vivre dans le monde sorcier et le monde moldu.</p></div></div>
                    <div class="epic-example lionking"><span class="icon">ü¶Å</span><div><p class="title">Le Roi Lion</p><p class="text">Simba est roi, mais il porte en lui la sagesse de son p√®re et les le√ßons de son exil. Il unit les deux parts de sa vie.</p></div></div>
                </div>
            </article>

            <article class="timeline-item return" data-step="17">
                <div class="timeline-node"></div>
                <div class="content">
                    <p class="step-number">√âtape 17</p>
                    <span class="step-icon">üïäÔ∏è</span>
                    <h3 class="step-name">La Libert√© de Vivre</h3>
                    <p class="step-description">La qu√™te accomplie, tous peuvent vivre lib√©r√©s de la menace.</p>
                    <p class="click-hint">Cliquez pour voir les exemples</p>
                </div>
                <div class="epic-examples" hidden>
                    <div class="epic-example odyssey"><span class="icon">üèõÔ∏è</span><div><p class="title">L'Odyss√©e</p><p class="text">Ath√©na scelle la paix entre Ulysse et les familles des pr√©tendants. Ithaque peut rena√Ætre.</p></div></div>
                    <div class="epic-example starwars"><span class="icon">‚öîÔ∏è</span><div><p class="title">Star Wars</p><p class="text">L'Empire est vaincu, la galaxie lib√©r√©e. Les fant√¥mes d'Obi-Wan, Yoda et Anakin sourient √† Luke.</p></div></div>
                    <div class="epic-example lotr"><span class="icon">üíç</span><div><p class="title">Le Seigneur des Anneaux</p><p class="text">La Comt√© est en paix. Sam plante le mallorne de Galadriel. Frodon part vers l'Ouest pour gu√©rir enfin.</p></div></div>
                    <div class="epic-example matrix"><span class="icon">üíä</span><div><p class="title">Matrix</p><p class="text">Neo promet de montrer aux humains un monde sans r√®gles, sans contr√¥le. La lib√©ration est possible.</p></div></div>
                    <div class="epic-example zelda"><span class="icon">üó°Ô∏è</span><div><p class="title">Zelda: Breath of the Wild</p><p class="text">Zelda est lib√©r√©e. Hyrule peut √™tre reconstruit. Link et Zelda contemplent ensemble un nouveau d√©part.</p></div></div>
                    <div class="epic-example harrypotter"><span class="icon">‚ö°</span><div><p class="title">Harry Potter</p><p class="text">19 ans plus tard : Harry envoie ses propres enfants √† Poudlard. Le monde magique vit en paix. "Tout √©tait bien."</p></div></div>
                    <div class="epic-example lionking"><span class="icon">ü¶Å</span><div><p class="title">Le Roi Lion</p><p class="text">La pluie revient, la savane rena√Æt. Simba et Nala pr√©sentent leur lionceau au royaume. Le cercle de la vie continue.</p></div></div>
                </div>
            </article>
        </div>
    </div>

    <nav class="timeline-nav">
        <button class="nav-btn" id="prevBtn">‚Üê Pr√©c√©dent</button>
        <button class="nav-btn" id="nextBtn">Suivant ‚Üí</button>
    </nav>

    <p class="keyboard-hint">Navigation : <kbd>‚Üê</kbd> <kbd>‚Üí</kbd> pour d√©filer, <kbd>Entr√©e</kbd> ou clic pour voir les d√©tails, <kbd>√âchap</kbd> pour fermer</p>

    <footer>
        <a href="https://github.com/bmatge/voyage-du-heros" target="_blank" rel="noopener">CC BY-SA</a>
    </footer>

    <!-- Modal for examples -->
    <div class="modal-overlay" id="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title-wrapper">
                    <span class="modal-icon" id="modalIcon"></span>
                    <div>
                        <h3 class="modal-title" id="modalTitle"></h3>
                        <p class="modal-step" id="modalStep"></p>
                    </div>
                </div>
                <button class="modal-close" id="modalClose">√ó</button>
            </div>
            <div class="modal-description" id="modalDescription"></div>
            <div class="modal-examples">
                <p class="modal-examples-title">Exemples dans les grandes √©pop√©es</p>
                <div class="epic-examples-grid" id="modalExamples"></div>
            </div>
            <div class="modal-nav">
                <button class="modal-nav-btn" id="modalPrev">‚Üê Pr√©c√©dent</button>
                <button class="modal-nav-btn" id="modalNext">Suivant ‚Üí</button>
            </div>
        </div>
    </div>

    <script>
        // Theme Switcher
        const themeSwitcher = document.getElementById('themeSwitcher');
        const themeToggle = document.getElementById('themeToggle');
        const themeOptions = document.querySelectorAll('.theme-option');

        // Load saved theme or default
        const savedTheme = localStorage.getItem('heroJourneyTheme') || 'default';
        document.body.setAttribute('data-theme', savedTheme);
        document.querySelector(`.theme-option[data-theme="${savedTheme}"]`)?.classList.add('active');

        // Toggle menu
        themeToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            themeSwitcher.classList.toggle('open');
        });

        // Close menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!themeSwitcher.contains(e.target)) {
                themeSwitcher.classList.remove('open');
            }
        });

        // Theme selection
        themeOptions.forEach(option => {
            option.addEventListener('click', () => {
                const theme = option.dataset.theme;

                // Update body theme
                document.body.setAttribute('data-theme', theme);

                // Update active state
                themeOptions.forEach(opt => opt.classList.remove('active'));
                option.classList.add('active');

                // Save preference
                localStorage.setItem('heroJourneyTheme', theme);

                // Close menu
                themeSwitcher.classList.remove('open');
            });
        });

        // Data for the steps
        const stepsData = {};

        // Initialize data from DOM
        document.querySelectorAll('.timeline-item').forEach(item => {
            const step = item.dataset.step;
            const content = item.querySelector('.content');
            const examples = item.querySelector('.epic-examples');

            stepsData[step] = {
                icon: content.querySelector('.step-icon').textContent,
                name: content.querySelector('.step-name').textContent,
                step: content.querySelector('.step-number').textContent,
                description: content.querySelector('.step-description').textContent,
                examples: examples ? examples.innerHTML : ''
            };
        });

        // Modal functionality
        const modal = document.getElementById('modal');
        const modalIcon = document.getElementById('modalIcon');
        const modalTitle = document.getElementById('modalTitle');
        const modalStep = document.getElementById('modalStep');
        const modalDescription = document.getElementById('modalDescription');
        const modalExamples = document.getElementById('modalExamples');
        const modalClose = document.getElementById('modalClose');
        const modalPrev = document.getElementById('modalPrev');
        const modalNext = document.getElementById('modalNext');

        let currentActiveItem = null;
        let currentStepNumber = 1;
        const totalSteps = 17;
        const allEpics = ['odyssey', 'starwars', 'lotr', 'matrix', 'zelda', 'harrypotter', 'lionking'];
        let selectedEpics = new Set(allEpics); // Start with all selected

        function updateButtonStates() {
            const epicButtons = document.querySelectorAll('.epic-btn');
            const allSelected = selectedEpics.size === allEpics.length;

            epicButtons.forEach(btn => {
                const epic = btn.dataset.epic;
                if (epic === 'all') {
                    btn.classList.toggle('active', allSelected);
                } else {
                    btn.classList.toggle('active', selectedEpics.has(epic));
                }
            });
        }

        function openModal(stepNumber, focusNext = true) {
            const data = stepsData[stepNumber];
            if (!data) return;

            currentStepNumber = parseInt(stepNumber);

            modalIcon.textContent = data.icon;
            modalTitle.textContent = data.name;
            modalStep.textContent = data.step;
            modalDescription.textContent = data.description;
            modalExamples.innerHTML = data.examples;

            // Apply current epic filter
            applyEpicFilter();

            // Update nav buttons state
            modalPrev.disabled = currentStepNumber <= 1;
            modalNext.disabled = currentStepNumber >= totalSteps;

            modal.classList.add('visible');
            document.body.style.overflow = 'hidden';

            // Mark active item
            if (currentActiveItem) {
                currentActiveItem.classList.remove('active');
            }
            currentActiveItem = document.querySelector(`.timeline-item[data-step="${stepNumber}"]`);
            if (currentActiveItem) {
                currentActiveItem.classList.add('active');
            }

            // Focus on appropriate nav button
            setTimeout(() => {
                if (focusNext && !modalNext.disabled) {
                    modalNext.focus();
                } else if (!modalPrev.disabled) {
                    modalPrev.focus();
                }
            }, 100);
        }

        function closeModal() {
            modal.classList.remove('visible');
            document.body.style.overflow = '';

            if (currentActiveItem) {
                currentActiveItem.classList.remove('active');
                currentActiveItem = null;
            }
        }

        function applyEpicFilter() {
            const examples = modalExamples.querySelectorAll('.epic-example');
            examples.forEach(example => {
                // Check if the example matches any selected epic
                const isVisible = allEpics.some(epic =>
                    selectedEpics.has(epic) && example.classList.contains(epic)
                );
                example.style.display = isVisible ? 'flex' : 'none';
            });
        }

        // Close modal events
        modalClose.addEventListener('click', closeModal);
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });

        // Modal navigation
        modalPrev.addEventListener('click', () => {
            if (currentStepNumber > 1) {
                openModal(currentStepNumber - 1, false);
                // Scroll timeline to keep current step visible
                if (currentActiveItem) {
                    currentActiveItem.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
                }
            }
        });

        modalNext.addEventListener('click', () => {
            if (currentStepNumber < totalSteps) {
                openModal(currentStepNumber + 1, true);
                // Scroll timeline to keep current step visible
                if (currentActiveItem) {
                    currentActiveItem.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
                }
            }
        });

        // Timeline item clicks and keyboard navigation
        document.querySelectorAll('.timeline-item').forEach(item => {
            // Make focusable
            item.setAttribute('tabindex', '0');
            item.setAttribute('role', 'button');
            item.setAttribute('aria-label', `${item.querySelector('.step-name').textContent} - Cliquez pour voir les exemples`);

            item.addEventListener('click', () => {
                openModal(item.dataset.step);
            });

            // Open modal on Enter key when focused
            item.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    openModal(item.dataset.step);
                }
            });
        });

        // Epic filtering with multi-select
        const epicButtons = document.querySelectorAll('.epic-btn');
        epicButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const epic = btn.dataset.epic;

                if (epic === 'all') {
                    // "Toutes" button: if all selected, deselect all; otherwise select all
                    if (selectedEpics.size === allEpics.length) {
                        selectedEpics.clear();
                    } else {
                        selectedEpics = new Set(allEpics);
                    }
                } else {
                    // Toggle individual epic
                    if (selectedEpics.has(epic)) {
                        selectedEpics.delete(epic);
                    } else {
                        selectedEpics.add(epic);
                    }
                }

                updateButtonStates();

                // Update modal if open
                if (modal.classList.contains('visible')) {
                    applyEpicFilter();
                }
            });
        });

        // Initialize button states
        updateButtonStates();

        // Timeline navigation
        const timeline = document.getElementById('timeline');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const scrollAmount = 220;

        prevBtn.addEventListener('click', () => {
            timeline.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
        });

        nextBtn.addEventListener('click', () => {
            timeline.scrollBy({ left: scrollAmount, behavior: 'smooth' });
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (modal.classList.contains('visible')) {
                if (e.key === 'Escape') {
                    closeModal();
                } else if (e.key === 'ArrowLeft' && currentStepNumber > 1) {
                    openModal(currentStepNumber - 1, false);
                    if (currentActiveItem) {
                        currentActiveItem.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
                    }
                } else if (e.key === 'ArrowRight' && currentStepNumber < totalSteps) {
                    openModal(currentStepNumber + 1, true);
                    if (currentActiveItem) {
                        currentActiveItem.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
                    }
                }
            } else {
                if (e.key === 'ArrowLeft') {
                    timeline.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
                } else if (e.key === 'ArrowRight') {
                    timeline.scrollBy({ left: scrollAmount, behavior: 'smooth' });
                }
            }
        });

        // Update nav buttons state based on scroll position
        function updateNavButtons() {
            prevBtn.disabled = timeline.scrollLeft <= 0;
            nextBtn.disabled = timeline.scrollLeft >= timeline.scrollWidth - timeline.clientWidth - 10;
        }

        timeline.addEventListener('scroll', updateNavButtons);
        updateNavButtons();

        // Horizontal scroll with mouse wheel on timeline
        timeline.addEventListener('wheel', (e) => {
            // Only capture vertical scroll and convert to horizontal
            if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) {
                e.preventDefault();
                timeline.scrollBy({
                    left: e.deltaY,
                    behavior: 'auto'
                });
            }
        }, { passive: false });

        // Smooth scroll on page load
        window.addEventListener('load', () => {
            setTimeout(() => {
                timeline.scrollTo({ left: 0, behavior: 'auto' });
            }, 100);
        });
    </script>
</body>
</html>
